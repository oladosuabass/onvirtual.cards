(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{464:function(t,e,r){"use strict";function n(t,e){var i,r;if("function"==typeof e)void 0!==(r=e(t))&&(t=r);else if(Array.isArray(e))for(i=0;i<e.length;i++)void 0!==(r=e[i](t))&&(t=r);return t}function o(t,e){return"-"===t[0]&&Array.isArray(e)&&/^-\d+$/.test(t)?e.length+parseInt(t,10):t}function c(t){return"[object Object]"===Object.prototype.toString.call(t)}function f(t){return Object(t)===t}function l(t){return 0===Object.keys(t).length}var h=["__proto__","prototype","constructor"],y=function(t){return-1===h.indexOf(t)};function d(path,t){path.indexOf("[")>=0&&(path=path.replace(/\[/g,t).replace(/]/g,""));var e=path.split(t);if(e.filter(y).length!==e.length)throw Error("Refusing to update blacklisted property "+path);return e}var v=Object.prototype.hasOwnProperty;function O(t,e,r,n){if(!(this instanceof O))return new O(t,e,r,n);void 0===e&&(e=!1),void 0===r&&(r=!0),void 0===n&&(n=!0),this.separator=t||".",this.override=e,this.useArray=r,this.useBrackets=n,this.keepArray=!1,this.cleanup=[]}var j=new O(".",!1,!0,!0);function m(t){return function(){return j[t].apply(j,arguments)}}O.prototype._fill=function(a,t,e,r){var o=a.shift();if(a.length>0){if(t[o]=t[o]||(this.useArray&&function(t){return/^\d+$/.test(t)}(a[0])?[]:{}),!f(t[o])){if(!this.override){if(!f(e)||!l(e))throw new Error("Trying to redefine `"+o+"` which is a "+typeof t[o]);return}t[o]={}}this._fill(a,t[o],e,r)}else{if(!this.override&&f(t[o])&&!l(t[o])){if(!f(e)||!l(e))throw new Error("Trying to redefine non-empty obj['"+o+"']");return}t[o]=n(e,r)}},O.prototype.object=function(t,e){var r=this;return Object.keys(t).forEach((function(o){var c=void 0===e?null:e[o],f=d(o,r.separator).join(r.separator);-1!==f.indexOf(r.separator)?(r._fill(f.split(r.separator),t,t[o],c),delete t[o]):t[o]=n(t[o],c)})),t},O.prototype.str=function(path,t,e,r){var o=d(path,this.separator).join(this.separator);return-1!==path.indexOf(this.separator)?this._fill(o.split(this.separator),e,t,r):e[path]=n(t,r),e},O.prototype.pick=function(path,t,e,r){var i,n,c,f,l;for(n=d(path,this.separator),i=0;i<n.length;i++){if(f=o(n[i],t),!t||"object"!=typeof t||!(f in t))return;if(i===n.length-1)return e?(c=t[f],r&&Array.isArray(t)?t.splice(f,1):delete t[f],Array.isArray(t)&&(l=n.slice(0,-1).join("."),-1===this.cleanup.indexOf(l)&&this.cleanup.push(l)),c):t[f];t=t[f]}return e&&Array.isArray(t)&&(t=t.filter((function(t){return void 0!==t}))),t},O.prototype.delete=function(path,t){return this.remove(path,t,!0)},O.prototype.remove=function(path,t,e){var i;if(this.cleanup=[],Array.isArray(path)){for(i=0;i<path.length;i++)this.pick(path[i],t,!0,e);return e||this._cleanup(t),t}return this.pick(path,t,!0,e)},O.prototype._cleanup=function(t){var e,i,r,n;if(this.cleanup.length){for(i=0;i<this.cleanup.length;i++)e=(e=(n=(r=this.cleanup[i].split(".")).splice(0,-1).join("."))?this.pick(n,t):t)[r[0]].filter((function(t){return void 0!==t})),this.set(this.cleanup[i],e,t);this.cleanup=[]}},O.prototype.del=O.prototype.remove,O.prototype.move=function(source,t,e,r,o){return"function"==typeof r||Array.isArray(r)?this.set(t,n(this.pick(source,e,!0),r),e,o):(o=r,this.set(t,this.pick(source,e,!0),e,o)),e},O.prototype.transfer=function(source,t,e,r,o,c){return"function"==typeof o||Array.isArray(o)?this.set(t,n(this.pick(source,e,!0),o),r,c):(c=o,this.set(t,this.pick(source,e,!0),r,c)),r},O.prototype.copy=function(source,t,e,r,o,c){return"function"==typeof o||Array.isArray(o)?this.set(t,n(JSON.parse(JSON.stringify(this.pick(source,e,!1))),o),r,c):(c=o,this.set(t,this.pick(source,e,!1),r,c)),r},O.prototype.set=function(path,t,e,r){var i,n,o,f;if(void 0===t)return e;for(o=d(path,this.separator),i=0;i<o.length;i++){if(f=o[i],i===o.length-1)if(r&&c(t)&&c(e[f]))for(n in t)v.call(t,n)&&(e[f][n]=t[n]);else if(r&&Array.isArray(e[f])&&Array.isArray(t))for(var l=0;l<t.length;l++)e[o[i]].push(t[l]);else e[f]=t;else v.call(e,f)&&(c(e[f])||Array.isArray(e[f]))||(/^\d+$/.test(o[i+1])?e[f]=[]:e[f]={});e=e[f]}return e},O.prototype.transform=function(t,e,r){return e=e||{},r=r||{},Object.keys(t).forEach(function(n){this.set(t[n],this.pick(n,e),r)}.bind(this)),r},O.prototype.dot=function(t,e,path){e=e||{},path=path||[];var r=Array.isArray(t);return Object.keys(t).forEach(function(n){var o=r&&this.useBrackets?"["+n+"]":n;if(f(t[n])&&(c(t[n])&&!l(t[n])||Array.isArray(t[n])&&!this.keepArray&&0!==t[n].length)){if(r&&this.useBrackets){var h=path[path.length-1]||"";return this.dot(t[n],e,path.slice(0,-1).concat(h+o))}return this.dot(t[n],e,path.concat(o))}r&&this.useBrackets?e[path.join(this.separator).concat("["+n+"]")]=t[n]:e[path.concat(o).join(this.separator)]=t[n]}.bind(this)),e},O.pick=m("pick"),O.move=m("move"),O.transfer=m("transfer"),O.transform=m("transform"),O.copy=m("copy"),O.object=m("object"),O.str=m("str"),O.set=m("set"),O.delete=m("delete"),O.del=O.remove=m("remove"),O.dot=m("dot"),["override","overwrite"].forEach((function(t){Object.defineProperty(O,t,{get:function(){return j.override},set:function(t){j.override=!!t}})})),["useArray","keepArray","useBrackets"].forEach((function(t){Object.defineProperty(O,t,{get:function(){return j[t]},set:function(e){j[t]=e}})})),O._process=n,t.exports=O},468:function(t,e,r){"use strict";r(15),r(12),r(32),r(33),r(51);var n=r(3),o=(r(11),r(9),r(13),r(27)),c=r(29),f=r(31),l=r(34),h=r(26),y=r(30),d=r(22);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function O(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var m=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(y.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},k=r(464),A=function(t){Object(f.a)(r,t);var e=j(r);function r(){return Object(o.a)(this,r),e.apply(this,arguments)}return Object(c.a)(r,[{key:"dot",value:function(t){return k.dot(t)}},{key:"dotFilters",value:function(t){return this.dot({filters:t})}},{key:"setFilters",value:function(t){var e=k.object(this.query);delete e.filters,delete e.offset,Object.keys(t).length>0&&(e=O(O({},e),this.dotFilters(t))),this.$router.push({path:this.path,query:e})}},{key:"getOffset",value:function(t,e){return(t-1)*e}},{key:"generatePageLink",value:function(t,e){var r=1===t?0:this.getOffset(t,e);return this.generateLink(O(O({},this.dot(this.query)),{},{offset:r}))}},{key:"generateLink",value:function(t){return"?"+Object.keys(t).map((function(e){return e+"="+t[e]})).join("&")}},{key:"getPage",value:function(t,e){return t&&0!==t?1+t/e:1}},{key:"getNumberOfPages",value:function(t,e){return Math.ceil(t/e)}},{key:"getPreviousLink",value:function(t,e){return 1===t?null:this.generatePageLink(t-1,e)}},{key:"getNextLink",value:function(t,e,r){return t===r?null:this.generatePageLink(t+1,e)}},{key:"changePage",value:function(t,e,r){var n=parseInt(t),o=n;o=n<1?1:n>e?e:n;var c=O(O({},this.$route.query),{},{offset:this.getOffset(o,r)+""});this.$router.push({path:this.path,query:c})}},{key:"path",get:function(){return this.$route.path}},{key:"query",get:function(){return this.$route.query}}]),r}(d.Vue);A=m([d.Component],A),e.a=A},479:function(t,e,r){"use strict";var n;r.d(e,"a",(function(){return n})),function(t){t.ASC="ASC",t.DESC="DESC"}(n||(n={}))},555:function(t,e,r){"use strict";r.r(e);r(15),r(12),r(11),r(13),r(32),r(33),r(9),r(51);var n=r(3),o=(r(69),r(40)),c=r(27),f=r(29),l=r(31),h=r(34),y=r(26),d=r(30),v=r(22),O=r(64),j=r(479),m=r(89),k=r(90),A=r(94),w=r(88),P=r(468),R=r(121);function S(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function x(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?S(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):S(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function D(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(y.a)(t);if(e){var o=Object(y.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(h.a)(this,r)}}var E=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},_=Object(O.namespace)(k.name),C=Object(O.namespace)(A.name),$=r(464),T=r(10),L=function(t){Object(l.a)(n,t);var e,r=D(n);function n(){var t;return Object(c.a)(this,n),(t=r.apply(this,arguments)).page=0,t}return Object(f.a)(n,[{key:"asyncData",value:(e=Object(o.a)(regeneratorRuntime.mark((function t(e){var r,n,o,c,f,l,h,y,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.store,n=e.route,o=n.params.id,t.next=4,Object(R.a)(r).get(o);case 4:return c=$.object(n.query),(f=c.filters?c.filters:{}).fromTimestamp||(f.fromTimestamp=T().startOf("month").valueOf()),f.toTimestamp||(f.toTimestamp=T().endOf("month").valueOf()),l=x({showFundMovementsOnly:!0,orderByTimestamp:j.a.DESC,paging:{limit:100,offset:0}},f),h={id:o,body:l},t.next=12,Object(R.a)(r).getStatement(h);case 12:if(!m.Helpers.isConsumer(r)){t.next=19;break}if(!(y=m.Helpers.identityId(r))){t.next=17;break}return t.next=17,k.Helpers.get(r,y);case 17:t.next=23;break;case 19:if(!(d=m.Helpers.identityId(r))){t.next=23;break}return t.next=23,Object(R.c)(r).getCorporateDetails(d);case 23:return t.abrupt("return",{accountId:o,filters:l});case 24:case"end":return t.stop()}}),t)}))),function(t){return e.apply(this,arguments)})},{key:"infiniteScroll",value:function(t){var e=this;setTimeout((function(){e.page++;var r=x({},e.filters);r.paging.offset=e.page*r.paging.limit,e.stores.accounts.getCardStatementPage({id:e.$route.params.id,body:r}).then((function(e){e.data.responseCount<r.paging.limit?(t.complete(),console.log("complete")):(console.log("loaded"),t.loaded())}))}),500)}},{key:"account",get:function(){return this.stores.accounts.account}},{key:"filteredStatement",get:function(){return this.stores.accounts.filteredStatement}},{key:"corporate",get:function(){return this.stores.corporates.corporate}}]),n}(Object(v.mixins)(w.a,P.a));E([_.Getter],L.prototype,"consumer",void 0),E([C.Getter],L.prototype,"hasAlert",void 0);var B=L=E([Object(v.Component)({watchQuery:!0,layout:"dashboard",components:{Statement:function(){return r.e(62).then(r.bind(null,570))}}})],L),I=r(42),component=Object(I.a)(B,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this.hasAlert?this._e():e("section",[e("statement",{attrs:{filters:this.filters}})],1),this._v(" "),e("infinite-loading",{attrs:{spinner:"spiral"},on:{infinite:this.infiniteScroll}},[e("span",{attrs:{slot:"no-more"},slot:"no-more"}),this._v(" "),e("div",{attrs:{slot:"no-results"},slot:"no-results"})])],1)}),[],!1,null,null,null);e.default=component.exports}}]);